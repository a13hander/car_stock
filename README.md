# Реализация стока для Б/У авто

## Установка
Выполнить в консоли следующие команды:
1) `composer require a13hander/car_stock`
2) `php artisan vendor:publish --provider="Stock\StockProvider"`
3) `php artisan migrate`

Произвести настройки.

## Настройка
Основные настройки хранятся в файле конфигурации `stock.php`. В настройке `fields_map` находится отображение полей в таблице автомоблией на теги в xml импорте.
Если в импорте поле требует дополнительной обработки, то необходимо создать свою реализацию интерфейса `Stock\Parser` и переопределить в контейнере конфигурацию.

## Импорт из файла Google Doc
В файле конфигурации `stock.php` -> `google-doc` указать `spreadsheet_id` (можно взять из url страницы) и `range` (диапазоны для парсинга, например `A1:R1000`).
`fields_map` - ассоциативный массив, в котором ключами являются поля в таблице базы данных, а значениями - порядковый номер колонки в Google таблице.
Для запуска импорт нужно в положить в `storage/app` файл `credentials.json`, взятый с https://developers.google.com/sheets/api/quickstart/php
